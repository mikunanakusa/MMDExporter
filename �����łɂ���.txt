||==========================================================================||
||                                                                          ||
||  GoogleSketchUP MMD accessory exporter(.x) 改造版                        ||
||                                                                          ||
||==========================================================================||

＄概要
　2ch/Youtube板「【MMD】MikuMikuDance動画制作/鑑賞スレ【初音ミク】 partミク」スレ
　の>>793氏が配布しているGoogleSketchUPのexporter[up0294.zip]にテクスチャファイルを
　TGAへ自動的に変換する機能を追加したものです。
　また画像の変換のためにImageMagickのconvert.exeコマンドを使用します。
　convert.exeは以下の場所に実行可能な状態で置いてください。
　　１．MMDExporter_config.rbの@@ImageMagick_convert変数で指定したファイル
　　２．Google SketchUpの"Plugins"フォルダ
　　３．システムのパスが通っている場所
　　※上から順にImageMagickのconvert.exeを探索します。見つからなかった場合は画像の
　　　変換を行いません。

＄ファイル・フォルダ
　img <dir>              手順書で使用している画像ファイルが入っているフォルダ
　MMDExporter.rb         exporter本体 / Rubyスクリプト
　MMDExporter_config.rb  exporterの設定ファイル / Rubyスクリプト
　readme.txt             オリジナルのreadme
　改造版について.txt     改造版に関するreadme(このファイル)
　インストール手順.html  インストール簡易手順書
　im_setup.html          ImageMagickのセットアップ簡易手順書
　config_edit.html       設定ファイルの編集簡易手順書

＄インストール
　詳しくはインストール手順.htmlを参照してください。
　大まかに、ImageMagickセットアップ、exporterのインストール、必要なら
　設定ファイルの編集の流れになります。ImageMagickはすでにお使いの環境があれば
　そちらを利用していただいてもかまいません。

＄動作とか
　Rename Texture filenamにチェックを入れてエクスポートすると
　　１．convert.exeを探す
　　２．テクスチャファイル名の一覧を取得する
　　３．テクスチャファイルをtgaに変換する
　　４．元のテクスチャファイルを削除する
　以上の動作を追加で行います。
　１及び３でconvert.exeを実行するためコマンドプロンプトが何枚か開きます
　１では最大3枚、３ではテクスチャの枚数分開きます。自動的に閉じますので
　そのままでお待ちください。
　３は設定ファイルで設定された数のconvert.exeを同時に起動させることが可能です。
　マルチコアな環境では同時起動させると変換処理が速くなるかもしれません。
　私はマルチコアの環境を持っていないので効果の有無は確認出来ていません・・・

＄免責
　私自身がGoogleSketchUPについて詳しくありませんので想定しない動作をする可能性が
　あります。何が起きても責任を持てませんのでご承知ください。

＄その他
　・ImageMagick
　　　http://www.imagemagick.org/
　　他にImageMagickを使用する予定がない場合はPortable Win32をダウンロード後、解凍し
　　convert.exeをMMDExporter.rbと同じフォルダにコピーしてしまうのがすっきりする
　　かも知れません。
　・MMDExporter_config.rb
　　設定ファイルと言うことになっていますが実態はRubyスクリプトそのものです。
　　GoogleSketchUP起動時に実行されますので、Rubyの文法的に正しくない文があったり
　　するとエラーが発生する可能性がありますので注意してください。
　　"設定ファイルの編集簡易手順書"に書いてある範囲で編集する分には問題ないと
　　思います。(Rubyが判る方は好きなように書いてください)

＄更新履歴
0.1 [2009/10/01] ・変換に失敗時にもオリジナルのテクスチャファイルを削除していたのを
                 　削除しないようにした
                 ・日本語パス、日本語ファイル名でも変換できるようにした
                 ・設定の変更箇所を別ファイルに分離した
                 ・ImageMagickのconvert.exeを複数個起動可能にした
                 ・Rename Texture filenameのチェックボックスのデフォルト値を
                 　設定可能にした
初版[2009/09/25] ・とりあえず動くようになったから公開。パッチによるリリース
